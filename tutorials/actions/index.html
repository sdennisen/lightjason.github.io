<!DOCTYPE html><html lang="en-GB"><head><meta name="msvalidate.01" content="2EB13C5538E9973D8DFC39C6A455DEFE"><meta name="google-site-verification" content="sVNU1mmaPgvbzlig03vdNtqHYnJNzvbdQYLCWqvtxRU"><meta name="description" content="LightJason is an artificial intelligence BDI multi-agent framework for adding AI with optimization and fuzzy-logical concepts to existing software-architecture"><meta name="keywords" content="AI, BDI, Agent, Multiagentsystem, Concurrency, Java, Development, Artificial Intelligence, Software, Psychology, Sociology, Simulation"><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=0.9"><link href="https://fonts.googleapis.com/css?family=Pridi:200,300,400,500,600,700" rel="stylesheet" media="all"><script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script><link href="https://lightjason.github.io/css/prism.css" rel="stylesheet" media="all"><link href="https://lightjason.github.io/css/layout.css" rel="stylesheet" media="all"><link href="https://lightjason.github.io/css/print.css" rel="stylesheet" media="print"><link href="https://lightjason.github.io/css/mobile.css" rel="stylesheet" media="screen and (max-width:1000px)"><link href="https://lightjason.github.io/css/lightbox.min.css" rel="stylesheet" media="screen"><script src="https://lightjason.github.io/js/prism.js"></script><script src="https://lightjason.github.io/js/prism-agentspeak.js"></script><script src="https://lightjason.github.io/js/toc.min.js"></script><script src="https://lightjason.github.io/js/teletype.js"></script><script src="https://lightjason.github.io/js/script.js"></script><script>!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-89676576-1","auto"),ga("send","pageview")</script><script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax:{inlineMath:[["$","$"]],displayMath:[["$$","$$"]],processEscapes:!0,processEnvironments:!1,skipTags:["script","noscript","style","textarea","pre","code"],TeX:{equationNumbers:{autoNumber:"AMS"},extensions:["autoload-all.js"]}}})</script><link href="https://lightjason.github.io/images/favicon.png" type="image/png" rel="shortcut icon"><link href="https://lightjason.github.io/news/index.xml" type="application/rss+xml" rel="alternate" title="LightJason"><title>LightJason — Tutorial: Actions</title><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@LightJasonAI"><meta name="twitter:title" content="LightJason - Tutorial: Actions"><meta name="twitter:description" content="This tutorial explains the concept and usage of actions. Actions are the executable mechanisms. We support a lot of different actions, which supports some basic functionality. Actions are an important part within a multi-agent system e.g. for communication, modifying the environment or the internal state of the agent.
 Previous Knowledge The AgentSpeak 15min tutorial defines the basic knowledge and working scenario.
What are actions? For actions there exists two point of views:..."><meta name="twitter:image" content="https://lightjason.github.io/images/logo.png"><meta property="og:site_name" content="LightJason"><meta property="og:url" content="http://lightjason.org"><meta property="og:title" content="LightJason - Tutorial: Actions"><meta property="og:image" content="https://lightjason.github.io/images/logo.png"><meta property="og:description" content="This tutorial explains the concept and usage of actions. Actions are the executable mechanisms. We support a lot of different actions, which supports some basic functionality. Actions are an important part within a multi-agent system e.g. for communication, modifying the environment or the internal state of the agent.
 Previous Knowledge The AgentSpeak 15min tutorial defines the basic knowledge and working scenario.
What are actions? For actions there exists two point of views:..."><script type="application/ld+json">[{
	"@context": "http://schema.org",
	"@type": "Organization",	
	"name" : "LightJason",
	"email" : "info@lightjason.org",
	"url" : "http://lightjason.org",
	"logo" : "https://lightjason.github.io/images/logo.png",
	"founders": [{
			"@type": "Person",
			"email" : "malte@lightjason.org",
			"name" : "Malte Aschermann",
			"givenName" : "Malte",
			"familyName" : "Aschermann"
			, "image" : "http://meclab.in.tu-clausthal.de/images/people/malte_aschermann.png"
		}
		,{
			"@type": "Person",
			"email" : "philipp@lightjson.org",
			"name" : "Philipp Kraus",
			"givenName" : "Philipp",
			"familyName" : "Kraus"
			, "image" : "http://www.gravatar.com/avatar/2de3ae533823dae934d3b45b239f797c"
			, "sameAs" : [
				"http://xing.to/philippkraus",
				"http://www.linkedin.com/in/philipp-kraus"
			]
		}
		]
},


{
	"@context": "http://schema.org",
	"@type": "WebSite",
	"name": "LightJason",
	"alternateName": "LightJason",
	"url":"http://lightjason.org"
	, "license" : "https://creativecommons.org/licenses/by-sa/4.0/"
	, "genre" : "AI, BDI, Agent, Multiagentsystem, Concurrency, Java, Development, Artificial Intelligence, Software, Psychology, Sociology, Simulation", "keywords" : "AI, BDI, Agent, Multiagentsystem, Concurrency, Java, Development, Artificial Intelligence, Software, Psychology, Sociology, Simulation"
	, "author" : [{
			"@type": "Person",
			"email" : "malte@lightjason.org",
			"name" : "Malte Aschermann",
			"givenName" : "Malte",
			"familyName" : "Aschermann"
			, "image" : "http://meclab.in.tu-clausthal.de/images/people/malte_aschermann.png"
		}
		,{
			"@type": "Person",
			"email" : "philipp@lightjson.org",
			"name" : "Philipp Kraus",
			"givenName" : "Philipp",
			"familyName" : "Kraus"
			, "image" : "http://www.gravatar.com/avatar/2de3ae533823dae934d3b45b239f797c"
			, "sameAs" : [
				"http://xing.to/philippkraus",
				"http://www.linkedin.com/in/philipp-kraus"
			]
		}
		]
}
,{
	"@context" : "http://schema.org",
	"@type" : "TechArticle",
	"headline" : "Tutorial: Actions",
	"proficiencyLevel" : "Beginner",
	"wordCount" :  1000 ,
	"datePublished" : "2017-01-01T12:00:00+01:00",
	"image" : "https://lightjason.github.io/images/logo.png" 
}
]</script></head><body><div class="document"><div id="nav">☰</div><div class="documentwrapper"><div class="bodywrapper"><div class="body"><h1 id="root"><a href="#root">Tutorial: Actions</a></h1><p>This tutorial explains the concept and usage of actions. Actions are the <em>executable mechanisms</em>. We support a lot of different actions, which supports some <a href="/knowledgebase/actions">basic functionality</a>. Actions are an important part within a multi-agent system e.g. for <a href="/tutorials/communication">communication</a>, modifying the <a href="/tutorials/environment">environment</a> or the internal state of the agent.</p><div id="toccontainer">Contents [<a href="#" id="tochideshow">Hide</a>]<div id="toc"></div></div><h2 id="previous-knowledge">Previous Knowledge</h2><p>The <a href="/tutorials/agentspeak-in-fifteen-minutes/">AgentSpeak 15min</a> tutorial defines the basic knowledge and working scenario.</p><h2 id="what-are-actions">What are actions?</h2><p>For actions there exists two point of views:</p><ol><li>software-based, so an action is a method (within a class) which will be executed during the agent cycle with the current agent-based execution context</li><li>agent-based, the action is represent by a literal within a rule or plan, but during execution the same action can be run more than one times in parallel</li></ol><p>On this two definitions on the Java-side a method must be written and be combined with the literal information for the AgentSpeak(L++) script, so that the agent can get access to the method. LightJason supports for this structure an interface, method annotations and reading mechanism to create all action objects.</p><h2 id="what-kind-of-actions-exists">What kind of actions exists?</h2><p>There are two kind of actions, which can be used both also in similar context. The usage of the action based on the software-design and so there is no general approach to use the action</p><h3 id="standalone-actions-external-actions">Standalone-Actions - External Actions</h3><p>Standalone actions, which are named in the Jason definition <em>external actions</em>, are classes which implement the <a href="https://lightjason.github.io/AgentSpeak/sources/dc/d53/interfaceorg_1_1lightjason_1_1agentspeak_1_1action_1_1IAction.html">IAction</a> interface. But we recommand to use the base implementation <a href="https://lightjason.github.io/AgentSpeak/sources/da/d94/classorg_1_1lightjason_1_1agentspeak_1_1action_1_1IBaseAction.html">IBaseAction</a>. For getting an overview of the structure take a look on the <a href="https://lightjason.github.io/AgentSpeak/sources/dd/d3e/classorg_1_1lightjason_1_1agentspeak_1_1action_1_1IBaseAction__coll__graph.svg" data-lightbox="ibaseaction-inheritance-diagram" data-title="IBaseAction inheritance diagram">IBaseAction inheritance diagram</a>. The recommand parts of an action are:</p><ul><li>a <code>name</code> which represent the call on the agent script</li><li>the number of <code>minimal arguments</code> for checking the correct number of arguments during parsing</li><li>the <code>execution</code> which defines the functionality of the action</li></ul><p>There are some other methods inside the definition:</p><ul><li>the <code>score</code> method allows to define a cost-value of an action for the aggregation function</li><li>the <code>variables</code> method returns a list of variables if the action generates variables</li></ul><h3 id="object-actions-internal-actions">Object-Actions - Internal Actions</h3><p>Object actions are methods inside the agent class or super classes of the agent class. LightJason can read all calss methods (not static or abstract methods) and create the actions on-fly. With black- and white-listing you can define a very detailed action generation. The visibility of a method can be public, private or protected. For the usage there exists three annotation:</p><ul><li>method annotation <code>@IAgentActionName</code> for defining action name</li><li>class annotation <code>@IAgentAction</code>, which can get two arguments:<ul><li><code>access</code> with the values <code>BLACKLIST</code> or <code>WHITELIST</code> to define the filter mechanism (default: <code>BLACKLIST</code>)</li><li><code>classes</code> a list of class objects for which the filtering should be defined (default empty for all classes)</li></ul></li><li>method annotation <code>@IAgentActionFilter</code> with the <code>classes</code> argument for definining class filtering of a method (see <code>@IAgentAction</code>)</li></ul><p>Parameter of the method will be packed / unpacked into terms automatically.</p><h2 id="how-can-i-create-an-action">How can I create an action?</h2><p>Within the section both kind of actions are shown. The code of an action should be very efficient and minimalistic, because an action will called multiple times from an agent, because plan execution is in parallel, also agent execution is in parallel.</p><h3 id="agentspeak-l-script">AgentSpeak(L++) Script</h3><p>The agent script shows the usage of the own action, it can be used like a build-in action. The naming is equal to the <code>name</code>-method or annotation.</p>

<p><pre class="language-agentspeak "  data-language="AgentSpeak(L++)"><code class="language-agentspeak">
!main.
&#43;!main &lt;-
    
    I = math/statistic/randomsimple() * 12 &#43; 4;
    R = generic/string/random( I, &#34;abcdefghijklmnopqrstuvwxyz&#34;);
    
    N = my/standalone-action( R );
    
    L = my/object-action( N );
    
    generic/print( &#34;agent uses string&#34;, R, &#34;gets from standalone action&#34;, N, &#34;and from object action&#34;, L )
.
</code></pre>
<p></p><h3 id="term-data-representation">Term Data Representation</h3><p>The data representation can be comprehend by the standalone action.</p>

<p><pre class="language-agentspeak "  data-language="AgentSpeak(L++)"><code class="language-agentspeak">
package myagentproject;
import org.lightjason.agentspeak.action.IBaseAction;
import org.lightjason.agentspeak.common.CPath;
import org.lightjason.agentspeak.common.IPath;
import org.lightjason.agentspeak.language.CRawTerm;
import org.lightjason.agentspeak.language.ITerm;
import org.lightjason.agentspeak.language.execution.IContext;
import org.lightjason.agentspeak.language.execution.fuzzy.CFuzzyValue;
import org.lightjason.agentspeak.language.execution.fuzzy.IFuzzyValue;
import java.text.MessageFormat;
import java.util.List;
final class CStandAloneAction extends IBaseAction
{
    @Override
    public final IPath name()
    {
        return CPath.from( &#34;my/standalone-action&#34; );
    }
    @Override
    public final int minimalArgumentNumber()
    {
        return 1;
    }
    @Override
    public final IFuzzyValue&lt;Boolean&gt; execute( final IContext p_context, final boolean p_parallel, final List&lt;ITerm&gt; p_argument,
                                               final List&lt;ITerm&gt; p_return, final List&lt;ITerm&gt; p_annotation
    )
    {
        
        System.out.println(
            MessageFormat.format(
                &#34;agent {0} calls standalone-action with parameter {1}&#34;,
                p_context.agent().hashCode(),
                p_argument.get( 0 ).&lt;String&gt;raw()
            )
        );
        
        p_return.add(
            CRawTerm.from(
                p_argument.get( 0 ).&lt;String&gt;raw().length()
            )
        );
        
        return CFuzzyValue.from( true );
    }
}
</code></pre>
<p></p><h2 id="efficent-concurrency-action">Efficent Concurrency Action</h2><p>In detail to the standalone action <strong>keep in mind, that the action is called multiple times</strong>, because the plan and rule execution is done in parallel and multiple agent can run the action in parallel. The <code>synchronized</code> keyword is not a general solution for avoiding <a href="https://en.wikipedia.org/wiki/Race_condition">race condition</a> because synchronization slows down the performance.</p><p>In common work the object-orientated design of the action class can be changed to removing synchronization. If you get race condition exceptions or performance problems, just redesign your architecture. A good design of concurrency architecture can be found on all <a href="http://lightjason.github.io/AgentSpeak/sources/d8/da4/namespaceorg_1_1lightjason_1_1agentspeak_1_1action_1_1buildin.html">build-in actions</a> of the framework</p><h2 id="reference-solution">Reference Solution</h2><p>This tutorial depends on the tutorial <a href="/tutorials/agentspeak-in-fifteen-minutes">AgentSpeak-in-15min</a>, so the whole build process is explained within the basic tutorial. If you struggled at some point or wish to obtain our exemplary solution with code documentation to this tutorial, you can download the archive <a href="https://github.com/LightJason/Examples/archive/tutorial-agent-action.zip">tutorial-agent-action.zip</a> containing the source code and a executable <a href="https://github.com/LightJason/Examples/raw/jar-tutorial-agent-action/myagentapp-1.0-SNAPSHOT.jar">Jar file</a>.</p><p>We run the example with 5 agents and 1 cycle</p><pre><code class="language-commandline">agent 981.414.120 calls standalone-action with parameter rvuoaiwqa
agent 263.847.538 calls standalone-action with parameter tqhkgkrcpziag
agent 1.675.634.764 calls standalone-action with parameter aefrnaopw
agent uses string   aefrnaopw   gets from standalone action   9   and from object action   1675634757
agent uses string   tqhkgkrcpziag   gets from standalone action   13   and from object action   263847551
agent 1.053.779.425 calls standalone-action with parameter dwyziieavx
agent uses string   rvuoaiwqa   gets from standalone action   9   and from object action   981414113
agent uses string   dwyziieavx   gets from standalone action   10   and from object action   1053779435
agent 1.128.132.589 calls standalone-action with parameter urm
agent uses string   urm   gets from standalone action   3   and from object action   1128132590
</code></pre></div></div></div><div class="sidebar" role="navigation" aria-label="main navigation"><div class="sidebarwrapper"><div class="logo"><a href="https://lightjason.github.io/">LightJason</a><div class="subtitle">Concurrent BDI multi-agent system</div></div><ul><li><a class="reference internal" href="/news/">News</a> <span class="sublink">(<a href="/news/index.xml">RSS</a>)</span></li><li><a class="reference internal" href="/publication/">Publication</a></li><li><a class="reference internal" href="/framework/">Framework</a></li><li><a class="reference internal" href="/knowledgebase/">Knowledge Base</a></li><li><a class="reference internal" href="/tutorials/">Tutorials</a></li><li><a class="reference internal" href="/about/">About</a></li><li><a class="reference internal" href="/contact/">Contact</a></li></ul><ul class="horizontal socialmedia"><li><a href="https://github.com/LightJason"><img src="/images/github.svg" alt="github" class="socialmediaimg"></a></li><li><a href="http://twitter.com/LightJasonAI"><img src="/images/twitter.svg" alt="twitter" class="socialmediaimg"></a></li><li><a href="https://vimeo.com/lightjason"><img src="/images/vimeo.svg" alt="vimeo" class="socialmediaimg"></a></li></ul><ul class="socialmediaaction"><li><script>window.twttr=function(t,e,r){var n,i=t.getElementsByTagName(e)[0],w=window.twttr||{};return t.getElementById(r)?w:(n=t.createElement(e),n.id=r,n.src="https://platform.twitter.com/widgets.js",i.parentNode.insertBefore(n,i),w._e=[],w.ready=function(t){w._e.push(t)},w)}(document,"script","twitter-wjs")</script><a class="twitter-share-button" href="https://twitter.com/intent/tweet">Tweet</a></li><li><script src="https://apis.google.com/js/platform.js" async defer></script><script>window.___gcfg={lang:"en-GB",parsetags:"onload"}</script><div class="g-plus" data-action="share" data-annotation="none"></div></li><li><script>!function(e,n,t){var o,c=e.getElementsByTagName(n)[0];e.getElementById(t)||(o=e.createElement(n),o.id=t,o.src="//connect.facebook.net/en-GB/sdk.js#xfbml=1&version=v2.8&appId=360647707384539",c.parentNode.insertBefore(o,c))}(document,"script","facebook-jssdk")</script><div class="fb-like" data-href="http://lightjason.org/tutorials/actions/" data-layout="button" data-action="recommend" data-size="small" data-show-faces="true" data-share="true"></div></li></ul></div></div><div class="clear"></div></div><div class="footer"><span class="contact">info [at] lightjason.org</span><ul class="horizontal"><li><a href="https://github.com/LightJason/AgentSpeak">AgentSpeak(L++) Repository</a></li><li><a href="https://github.com/LightJason/REST">REST-API Repository</a></li><li>© Feb 2017</li></ul></div><script src="https://lightjason.github.io/js/lightbox.min.js"></script></body></html>